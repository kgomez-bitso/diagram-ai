# Diagram AI

A Python library for generating cloud architecture diagrams programmatically using the `diagrams` package. This tool allows you to create and visualize AWS resource relationships through a simple Python API.

## Features

- Create AWS resource nodes (EC2, etc.) with relationships
- Generate visual diagrams of your cloud architecture
- Simple and intuitive builder pattern for node creation
- Support for complex node relationships

## Prerequisites

- Python 3.7+
- Graphviz (required by the diagrams package)

## Installation

1. **Install Graphviz**

   On Ubuntu/Debian:
   ```bash
   sudo apt-get install graphviz
   ```

   On macOS (using Homebrew):
   ```bash
   brew install graphviz
   ```

   On Windows (using Chocolatey):
   ```powershell
   choco install graphviz
   ```

2. **Set up a virtual environment (recommended)**
   ```bash
   python -m venv venv
   source venv/bin/activate  # On Windows: venv\Scripts\activate
   ```

3. **Install the required Python packages**
   ```bash
   pip install -r requirements.txt
   ```
   
   If you don't have a requirements.txt yet, install the package directly:
   ```bash
   pip install diagrams
   ```

## Usage

1. Create a Python script (e.g., `main.py`) with your diagram definition:

   ```python
   from tree_diagram.nodes.builders.aws_builder import AwsBuilder
   from tree_diagram.tree import Tree
   from diagram_manager.render_diagram import RenderDiagram

   # Create nodes
   builder = AwsBuilder()
   
   # First node (root)
   builder.set_name("EC2 1")
   builder.set_id("aws_ec2_1")
   builder.set_type("ec2")
   builder.set_description("EC2 instance")
   first_node = builder.node()
   
   # Second node (connected to first)
   builder.reset()
   builder.set_name("EC2 2")
   builder.set_id("aws_ec2_2")
   builder.set_type("ec2")
   builder.set_relationship("aws_ec2_1")
   second_node = builder.node()
   
   # Add more nodes as needed...
   
   # Create tree and render diagram
   tree = Tree()
   tree.add_node(first_node)
   tree.add_node(second_node)
   
   renderer = RenderDiagram()
   renderer.render("My Cloud Architecture", tree)
   ```

2. Run the script:
   ```bash
   python main.py
   ```

## Expected Output

After running the script, you should see a new file named `my_cloud_architecture.png` (or the name you provided) in your current directory. This file will contain a visual representation of your cloud architecture with the following characteristics:

- EC2 instances represented as standard AWS EC2 icons
- Arrows showing the relationships between nodes
- The title you provided at the top of the diagram
- Clean, professional layout automatically generated by Graphviz

## Example Output

For the example code provided in `main.py`, the output diagram will show:

1. Four EC2 instances connected in a specific relationship:
   - EC2 1 (root node)
   - EC2 2 connected to EC2 1
   - EC2 3 connected to EC2 2
   - EC2 4 connected to both EC2 2 and EC3 3

## Customization

You can customize the diagram by:
- Adding more node types (AWS services)
- Changing the relationships between nodes
- Modifying the layout by adjusting the diagram settings in `render_diagram.py`

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.
